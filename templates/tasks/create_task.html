{% extends "base.html" %}

{% block title %}Create Task{% endblock %}

{% block content %}
<div class="min-h-[70vh] flex items-center justify-center bg-gradient-to-br from-slate-100 via-white to-emerald-50 py-6">
  <div class="w-full max-w-lg mx-auto backdrop-blur-md bg-white/75 rounded-2xl shadow-2xl p-6 md:p-10 border border-white/60 space-y-8">

    <!-- Header + Back Link -->
    <div class="flex justify-between items-center mb-2">
      <h2 class="text-2xl md:text-3xl font-bold tracking-tight text-emerald-800">Create New Task</h2>
      <a href="{% url 'dashboard' %}"
         class="inline-flex items-center text-emerald-600 hover:text-emerald-800 text-lg px-2 py-1 rounded-lg bg-emerald-50 hover:bg-emerald-100 transition focus:outline-none focus:ring-2 focus:ring-emerald-200"
         aria-label="Back to dashboard">
        &larr;<span class="ml-1 hidden sm:inline">Back</span>
      </a>
    </div>

    <!-- Form -->
    <form method="post" class="space-y-6">
      {% csrf_token %}
      <div class="space-y-4">
        {% for field in form %}
        <div>
          <label class="block mb-1 font-medium text-slate-700">{{ field.label_tag }}</label>
          {{ field }}
          {% if field.help_text %}
            <div class="text-xs text-slate-500">{{ field.help_text }}</div>
          {% endif %}
          {% for error in field.errors %}
            <div class="text-xs text-red-600">{{ error }}</div>
          {% endfor %}
        </div>
        {% endfor %}
      </div>
      <button
        type="submit"
        class="w-full py-2.5 bg-emerald-600 text-white font-semibold rounded-lg hover:bg-emerald-700 shadow-md transition"
      >
        Save Task
      </button>
    </form>

  </div>
</div>

<!-- Enhance Django's auto-form fields with modern Tailwind styles -->
<style>
  /* Tweak default Django fields output if widget attrs not set in form */
  form input, form select, form textarea {
    @apply w-full px-4 py-2 rounded-lg border border-slate-300 bg-white/80 text-slate-900 placeholder-slate-400 shadow-inner focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:border-transparent transition;
    margin-top: 0.25rem; margin-bottom: 0.25rem;
  }
</style>
{% endblock %}
